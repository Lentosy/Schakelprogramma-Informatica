<div class="container" >
  <div class="alert alert-danger" *ngIf="errorGlobal">{{ errorGlobal }}</div>
  <div class="row">
    <div class="col-ms-12 col-md-12">
        <!-- BROWSE VIDEO -->
        <h1><u>1. Select a video file</u></h1>
        <label class="btn btn-lg btn-outline-primary btn-block" >
          Open file browser
          <input id="inp-upload-file" type="file" style="display: none;" name="video" accept=".mp4"

          (change)="changeVideo($event.target.files)"> <!--,.divx,.avi,.wmv,.mov,.qt,.avchd,.flv,.swf,.mpg,.m4p,.m4v,.svi"-->
        </label>
        <div class="alert alert-danger" *ngIf="errorFile">{{ errorFile }}</div>


        <!-- EXTRA INFO -->
        <h1><u>2. Additional video properties</u></h1>
        <div class="row">
          <div class="col-md-6">
            <div class="form-group">
              <input value="{{ title }}"  (change)="changeTitle($event.target.value)" class="form-control" type="text" name="title" placeholder="Title"/>
              <div class="alert alert-danger" *ngIf="errorTitle">{{ errorTitle }}</div>
            </div>
            <div class="form-group">
              <label for="assignmentSelection">Assignment</label>
              <select class="btn btn-lg btn-outline-primary" (change)="changeAssignment($event.target)">
                <option>select a task</option>
                <option id="{{assignment._id}}" *ngFor="let assignment of assignments" >
                  {{ assignment.name }}
                </option>
              </select>
              <div class="alert alert-danger" *ngIf="errorAssignment">{{ errorAssignment }}</div>
            </div>
          </div>
          <div class="col-md-6">
            <ul id="file-information" class="list-group btn-outline-primary">
              <li class="list-group-item active">File info</li>
              <li class="list-group-item">File name:
                {{ filename }}
              </li>
              <li class="list-group-item">File size:
                {{ filesize }}
              </li>
              <li class="list-group-item">File type:
                {{ filetype }}
              </li>
            </ul>
          </div>
        </div>

        <!-- UPLOAD VIDEO -->
        <h1><u>3. Upload your video!</u></h1>
        <button type="submit" id="btn-upload-file" class="btn btn-lg btn-outline-primary btn-block" data-toggle="modal" disabled data-target="#progress" (click)="uploadVideo()">Upload Video</button>
    </div>
  </div>
</div>

<ng-template #progressModel let-c="close" let-d="dismiss">
  <div class="modal-header">
    <h5 class="modal-title" id="exampleModalLabel">Your video is uploading...</h5>
  </div>
  <div class="modal-body">
    <img src="../../../assets/loader.gif"/>
  </div>
</ng-template>

